(this["webpackJsonptot-systems-test-exercise"]=this["webpackJsonptot-systems-test-exercise"]||[]).push([[0],{25:function(e,t,s){},26:function(e,t,s){},27:function(e,t,s){},34:function(e,t,s){},35:function(e,t,s){},36:function(e,t,s){},37:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s.n(a),n=s(19),r=s.n(n),o=(s(25),s(12)),i=s(7),l=(s(26),s(27),s(9)),j=s(1);var u=function(e){return Object(j.jsxs)("nav",{className:"sidebar",children:[Object(j.jsx)(l.b,{to:"/workchat",className:"sidebar__link",activeClassName:"sidebar__link_active",children:"Work"}),Object(j.jsx)(l.b,{to:"/floodchat",className:"sidebar__link",activeClassName:"sidebar__link_active",children:"Flood"})]})};s(34);var b=function(e){var t=Object(a.useRef)(null);return Object(a.useEffect)((function(){t.current.scrollIntoView({behavior:"smooth"})}),[e.messages]),Object(j.jsxs)("section",{className:"chat",children:[Object(j.jsx)("p",{className:"chat__title",children:e.title}),Object(j.jsx)("ul",{className:"chat__message-list",children:e.messages.map((function(e,t){return Object(j.jsxs)("li",{className:"chat__message ".concat(localStorage.getItem("userName")===e.name&&"chat__message_own"),children:[Object(j.jsx)("p",{className:"chat__message-sender",children:e.name}),Object(j.jsx)("p",{className:"chat__message-text ".concat(localStorage.getItem("userName")===e.name&&"chat__message-text_own"),children:e.text})]},t)}))}),Object(j.jsx)("div",{ref:t})]})};s(35);var m=function(e){var t=Object(a.useState)(""),s=Object(i.a)(t,2),c=s[0],n=s[1];return Object(j.jsxs)("form",{className:"send-form",onSubmit:function(t){t.preventDefault(),e.sendMessage({name:localStorage.getItem("userName"),text:c}),n("")},children:[Object(j.jsx)("input",{className:"send-form__input",value:c,onChange:function(e){n(e.target.value)},placeholder:"\u041f\u043e\u0432\u0435\u0434\u0430\u0439\u0442\u0435 \u0432\u0441\u0435\u043c \u043e \u0447\u0435\u043c-\u043d\u0438\u0431\u0443\u0434\u044c!",type:"text"}),Object(j.jsx)("button",{className:"send-form__submit",type:"submit"})]})};s(36);var h=function(e){var t=Object(a.useState)(""),s=Object(i.a)(t,2),c=s[0],n=s[1],r=Object(a.useState)(""),o=Object(i.a)(r,2),l=o[0],u=o[1];return Object(j.jsx)("div",{className:"auth",children:Object(j.jsxs)("div",{className:"auth__container",children:[Object(j.jsx)("h1",{className:"auth__title",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"}),Object(j.jsxs)("form",{className:"auth__form",onSubmit:function(t){t.preventDefault(),e.onSubmit({name:c,password:l})},children:[Object(j.jsx)("input",{className:"auth__input",onChange:function(e){n(e.target.value)},value:c,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f",name:"user",minLength:"2",required:!0}),Object(j.jsx)("input",{className:"auth__input",onChange:function(e){u(e.target.value)},value:l,type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",name:"password",minLength:"2",required:!0}),Object(j.jsx)("button",{className:"auth__submit",type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},O=s(2),d=[{name:"Nik",password:"123456"},{name:"Alex",password:"123123"}];var g=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),s=t[0],c=t[1],n=Object(a.useState)(),r=Object(i.a)(n,2),l=r[0],g=r[1],x=Object(a.useState)(!1),f=Object(i.a)(x,2),_=f[0],p=f[1],N=Object(a.useState)(d),v=Object(i.a)(N,2),S=v[0],w=(v[1],Object(O.g)());return Object(a.useEffect)((function(){localStorage.getItem("workMessages")?c(JSON.parse(localStorage.getItem("workMessages"))):c([]),localStorage.getItem("floodMessages")?g(JSON.parse(localStorage.getItem("floodMessages"))):g([])}),[]),Object(j.jsx)("div",{className:"page",children:Object(j.jsx)("div",{className:"page__container",children:Object(j.jsxs)(O.d,{children:[Object(j.jsx)(O.b,{exact:!0,path:"/",children:_?Object(j.jsx)(O.a,{to:"/workchat"}):Object(j.jsx)(O.a,{to:"/auth"})}),Object(j.jsx)(O.b,{path:"/workchat",children:_?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u,{}),Object(j.jsx)(b,{title:"\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u0447\u0430\u0442",messages:s}),Object(j.jsx)(m,{sendMessage:function(e){c([].concat(Object(o.a)(s),[e])),localStorage.setItem("workMessages",JSON.stringify([].concat(Object(o.a)(s),[e])))}})]}):Object(j.jsx)(O.a,{to:"/auth"})}),Object(j.jsx)(O.b,{path:"/floodchat",children:_?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u,{}),Object(j.jsx)(b,{title:"\u0411\u0435\u0441\u0435\u0434\u0430",messages:l}),Object(j.jsx)(m,{sendMessage:function(e){g([].concat(Object(o.a)(l),[e])),localStorage.setItem("floodMessages",JSON.stringify([].concat(Object(o.a)(l),[e])))}})]}):Object(j.jsx)(O.a,{to:"/auth"})}),Object(j.jsx)(O.b,{path:"/auth",children:Object(j.jsx)(h,{onSubmit:function(e){S.find((function(t){return t.name===e.name&&t.password===e.password}))&&(p(!0),w.push("/workchat"),localStorage.setItem("userName",e.name))}})})]})})})},x=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,38)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;s(e),a(e),c(e),n(e),r(e)}))};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(l.a,{children:Object(j.jsx)(g,{})})}),document.getElementById("root")),x()}},[[37,1,2]]]);
//# sourceMappingURL=main.09cbcb33.chunk.js.map